# Banking System

## Project Description

A simple banking system implemented in Python with unit tests that allows for user management, bank account operations, and financial transactions.

## Features

### User Management

- Creating user accounts with different permission levels (admin, standard user)
- Authentication and authorization system
- User data validation (email, password, phone number)

### Bank Account Management

- Opening and closing accounts
- Multi-currency support with automatic exchange rates from NBP API
- Account locking after failed access attempts

### Financial Operations

- Deposits and withdrawals
- Transfers between accounts
- Currency conversion
- Interest calculation

### Monitoring

- Transaction history tracking
- Date-based transaction filtering

## Project Structure

```
projekt/
├── src/
│   ├── init.py
│   ├── auth.py
│   ├── bank.py
│   ├── bank_account.py
│   └── user.py
├── tests/
│   ├── init.py
│   ├── test_auth.py
│   ├── test_bank.py
│   ├── test_bank_accocount.py
│   └── test_user.py
├── requirements.txt
└── README.md
```

## Installation

1. Clone the repository
2. Install dependencies (if necessary): `pip install -r requirements.txt`

## Code Formatting

This project's code has been formatted using the Black module, an uncompromising Python code formatter. Black enforces a consistent style by reformatting code in a deterministic way, following PEP 8 guidelines with some specific deviations.

## Coverage

```
Name                          Stmts   Miss  Cover   Missing
-----------------------------------------------------------
projekt\src\__init__.py           0      0   100%
projekt\src\auth.py              25      0   100%
projekt\src\bank.py              42      0   100%
projekt\src\bank_account.py     163      0   100%
projekt\src\user.py             176      0   100%
-----------------------------------------------------------
TOTAL                           406      0   100%
```

##  Running Tests

Run all tests with: `python -m unittest discover tests`

## Test Summary

Ran 101 tests 

## Usage Examples

### Authentication

```
from projekt.src.auth import Auth

# Create authentication system
auth = Auth()

# Login
login_success = auth.login(
    user=standard_user, 
    email='john.doe@example.com', 
    password='Secure123!'
)

# Check if user is logged in
is_logged_in = auth.is_logged_in(user=standard_user)  # Returns True

# Check admin status
is_admin = auth.is_admin(user=standard_user)  # Returns False
is_admin = auth.is_admin(user=admin_user)     # Returns True

# Logout
auth.logout(user=standard_user)
```

### Account Operations

```
# Check balance
balance = standard_user.get_balance(
    account_number=account_number,
    auth=auth
)
print(f"Current balance: {balance}")  # Current balance: 1000.0 PLN

# Deposit money
standard_user.deposit(
    amount=500.0,
    account_number=account_number,
    pin_code='123456',
    auth=auth
)

# Withdraw money
standard_user.withdraw(
    amount=200.0,
    account_number=account_number,
    pin_code='123456',
    auth=auth
)

# Get total balance across all accounts
total_balance = standard_user.get_total_balance(auth=auth)
print(f"Total balance: {total_balance}")  # Total balance: {'PLN': 1300.0}
```

### Currency Operations

```
# Change account currency from PLN to USD
standard_user.change_currency(
    account_number=account_number,
    currency='USD',
    auth=auth,
    pin_code='123456'
)

# Balance is automatically converted using current exchange rates
updated_balance = standard_user.get_balance(
    account_number=account_number,
    auth=auth
)
print(f"Updated balance: {updated_balance}")  # Updated balance: 345.22 USD
```

### Admin Operations

```
# Admin must be logged in
auth.login(user=admin_user, email='admin@bank.com', password='AdminPass123!')

# Get all users in a bank
all_users = admin_user.get_users(
    bank=bank,
    auth=auth
)

# Update currency exchange rates
admin_user.update_currencies(
    bank=bank,
    auth=auth
)

# Get accounts by status
from projekt.src.bank_account import AccountStatus

locked_accounts = admin_user.get_accounts_by_status(
    status=AccountStatus.LOCKED,
    auth=auth
)
```

Docstrings and usage examples generated by chatGPT  

